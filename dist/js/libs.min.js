/*! gulp-start v0.0.1 | (c) 2020 Bulat | MIT License | https://github.com/BulatSa/gulp-start */
/*! gulp-start v0.0.1 | (c) 2020 Bulat | MIT License | https://github.com/BulatSa/gulp-start */
!(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)})((function(t){var e,n,o,i,a,r,s,l,c,d,u,h,f,p,m,g,v,b,y,x,w,S,C,_,T,E,P,k,I,$,B,L,M,z,O,A,R,W,D,F,j,q,H,Y,X,N,U,Q,V,Z,G,K,J,tt,et,nt,ot,it;nt="function"==typeof define&&define.amd,ot="undefined"!=typeof module&&module.exports,it="https:"==document.location.protocol?"https:":"http:",nt||(ot?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+it+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),n="mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},i=0,a={},r=window.attachEvent&&!window.addEventListener?1:0,s=!1,l=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(e){e=t.extend(!0,{},o,e);var n=d.call(this);if(e.live){var r=e.liveSelector||this.selector||".mCustomScrollbar",s=t(r);if("off"===e.live)return void h(r);a[r]=setTimeout((function(){s.mCustomScrollbar(e),"once"===e.live&&s.length&&h(r)}),500)}else h(r);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":f(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=p(e.scrollButtons.scrollType),u(e),t(n).each((function(){var n=t(this);if(!n.data("mCS")){n.data("mCS",{idx:++i,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data("mCS"),a=o.opt,r=n.data("mcs-axis"),s=n.data("mcs-scrollbar-position"),d=n.data("mcs-theme");r&&(a.axis=r),s&&(a.scrollbarPosition=s),d&&(a.theme=d,u(a)),m.call(this),o&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+l[2]+")").addClass(l[2]),c.update.call(null,n)}}))},update:function(e,n){var o=e||d.call(this);return t(o).each((function(){var e=t(this);if(e.data("mCS")){var o=e.data("mCS"),i=o.opt,a=t("#mCSB_"+o.idx+"_container"),r=t("#mCSB_"+o.idx),s=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&X(e),n&&o&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),e.hasClass(l[3])&&e.removeClass(l[3]),e.hasClass(l[4])&&e.removeClass(l[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),v.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||a.css("width",g(a)),o.overflowed=S.call(this),E.call(this),i.autoDraggerLength&&y.call(this),x.call(this),_.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==i.axis&&(o.overflowed[0]?s[0].height()>s[0].parent().height()?C.call(this):(N(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(C.call(this),"y"===i.axis?T.call(this):"yx"===i.axis&&o.overflowed[1]&&N(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(o.overflowed[1]?s[1].width()>s[1].parent().width()?C.call(this):(N(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(C.call(this),"x"===i.axis?T.call(this):"yx"===i.axis&&o.overflowed[0]&&N(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===n&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),Y.call(this)}}))},scrollTo:function(e,n){if(void 0!==e&&null!=e){var o=d.call(this);return t(o).each((function(){var o=t(this);if(o.data("mCS")){var i=o.data("mCS"),a=i.opt,r={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=t.extend(!0,{},r,n),l=q.call(this,e),c=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;l[0]=H.call(this,l[0],"y"),l[1]=H.call(this,l[1],"x"),s.moveDragger&&(l[0]*=i.scrollRatio.y,l[1]*=i.scrollRatio.x),s.dur=et()?0:c,setTimeout((function(){null!==l[0]&&void 0!==l[0]&&"x"!==a.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",N(o,l[0].toString(),s)),null!==l[1]&&void 0!==l[1]&&"y"!==a.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",N(o,l[1].toString(),s))}),s.timeout)}}))}},stop:function(){var e=d.call(this);return t(e).each((function(){var e=t(this);e.data("mCS")&&X(e)}))},disable:function(e){var n=d.call(this);return t(n).each((function(){var n=t(this);n.data("mCS")&&(n.data("mCS"),Y.call(this,"remove"),T.call(this),e&&C.call(this),E.call(this,!0),n.addClass(l[3]))}))},destroy:function(){var e=d.call(this);return t(e).each((function(){var o=t(this);if(o.data("mCS")){var i=o.data("mCS"),a=i.opt,r=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),c=t(".mCSB_"+i.idx+"_scrollbar");a.live&&h(a.liveSelector||t(e).selector),Y.call(this,"remove"),T.call(this),C.call(this),o.removeData("mCS"),Z(this,"mcs"),c.remove(),s.find("img."+l[2]).removeClass(l[2]),r.replaceWith(s.contents()),o.removeClass(n+" _mCS_"+i.idx+" "+l[6]+" "+l[7]+" "+l[5]+" "+l[3]).addClass(l[4])}}))}},d=function(){return"object"!=typeof t(this)||t(this).length<1?".mCustomScrollbar":this},u=function(e){e.autoDraggerLength=!(t.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,["minimal","minimal-dark"])>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,["minimal","minimal-dark"])>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,["minimal","minimal-dark"])>-1?"outside":e.scrollbarPosition},h=function(t){a[t]&&(clearTimeout(a[t]),Z(a,t))},f=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},p=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},m=function(){var e=t(this),o=e.data("mCS"),i=o.opt,a=i.autoExpandScrollbar?" "+l[1]+"_expand":"",r=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+l[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+l[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?r[0]+r[1]:"x"===i.axis?r[1]:r[0],d="yx"===i.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=i.autoHideScrollbar?" "+l[6]:"",h="x"!==i.axis&&"rtl"===o.langDir?" "+l[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===o.langDir?"989999px":i.setLeft,e.addClass(n+" _mCS_"+o.idx+u+h).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+o.langDir+"' /></div>");var f=t("#mCSB_"+o.idx),p=t("#mCSB_"+o.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",g(p)),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),p.wrap(d)),b.call(this);var m=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},g=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map((function(){return t(this).outerWidth(!0)})).get())],o=e.parent().width();return n[0]>o?n[0]:n[1]>o?n[1]:"100%"},v=function(){var e=t(this).data("mCS"),n=e.opt,o=t("#mCSB_"+e.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var i=Math.ceil(o[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&i>o.parent().width()?o.css({width:i,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var e=t(this).data("mCS"),n=e.opt,o=t(".mCSB_"+e.idx+"_scrollbar:first"),i=J(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+l[13]+"' "+i+" />","<a href='#' class='"+l[14]+"' "+i+" />","<a href='#' class='"+l[15]+"' "+i+" />","<a href='#' class='"+l[16]+"' "+i+" />"],r=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&o.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])},y=function(){var e=t(this).data("mCS"),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],a=[n.height()/o.outerHeight(!1),n.width()/o.outerWidth(!1)],s=[parseInt(i[0].css("min-height")),Math.round(a[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(a[1]*i[1].parent().width())],l=r&&s[1]<s[0]?s[0]:s[1],c=r&&s[3]<s[2]?s[2]:s[3];i[0].css({height:l,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),i[1].css({width:c,"max-width":i[1].parent().width()-10})},x=function(){var e=t(this).data("mCS"),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],a=[o.outerHeight(!1)-n.height(),o.outerWidth(!1)-n.width()],r=[a[0]/(i[0].parent().height()-i[0].height()),a[1]/(i[1].parent().width()-i[1].width())];e.scrollRatio={y:r[0],x:r[1]}},w=function(t,e,n){var o=n?l[0]+"_expanded":"",i=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(l[0]+" "+o),i.toggleClass(l[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(l[0]),i.removeClass(l[1])):(t.addClass(l[0]),i.addClass(l[1])))},S=function(){var e=t(this).data("mCS"),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=null==e.overflowed?o.height():o.outerHeight(!1),a=null==e.overflowed?o.width():o.outerWidth(!1),r=o[0].scrollHeight,s=o[0].scrollWidth;return r>i&&(i=r),s>a&&(a=s),[i>n.height(),a>n.width()]},C=function(){var e=t(this),n=e.data("mCS"),o=n.opt,i=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),r=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(X(e),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(r[0].add(a).css("top",0),N(e,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var s=dx=0;"rtl"===n.langDir&&(s=i.width()-a.outerWidth(!1),dx=Math.abs(s/n.scrollRatio.x)),a.css("left",s),r[1].css("left",dx),N(e,"_resetX")}},_=function(){var e,n=t(this),o=n.data("mCS"),i=o.opt;o.bindEvents||(k.call(this),i.contentTouchScroll&&I.call(this),$.call(this),i.mouseWheel.enable&&(function o(){e=setTimeout((function(){t.event.special.mousewheel?(clearTimeout(e),B.call(n[0])):o()}),100)})(),A.call(this),W.call(this),i.advanced.autoScrollOnFocus&&R.call(this),i.scrollButtons.enable&&D.call(this),i.keyboard.enable&&F.call(this),o.bindEvents=!0)},T=function(){var e=t(this),n=e.data("mCS"),o=n.opt,i="mCS_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",r=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+l[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),s=t("#mCSB_"+n.idx+"_container");o.advanced.releaseDraggableSelectors&&r.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&r.add(t(o.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!M()||top.document)).unbind("."+i),r.each((function(){t(this).unbind("."+i)})),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),Z(n.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),Z(s[0],"onCompleteTimeout"),n.bindEvents=!1)},E=function(e){var n=t(this),o=n.data("mCS"),i=o.opt,a=t("#mCSB_"+o.idx+"_container_wrapper"),r=a.length?a:t("#mCSB_"+o.idx+"_container"),s=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(o.overflowed[0]&&!e?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),r.removeClass(l[8]+" "+l[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(l[10])):(s[0].css("display","none"),r.addClass(l[10])),r.addClass(l[8]))),"y"!==i.axis&&(o.overflowed[1]&&!e?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),r.removeClass(l[9]+" "+l[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(l[11])):(s[1].css("display","none"),r.addClass(l[11])),r.addClass(l[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(l[5]):n.addClass(l[5])},P=function(e){var n=e.type,o=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,i=M()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return o?[e.originalEvent.pageY-o[0]+i[0],e.originalEvent.pageX-o[1]+i[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[a.screenY,a.screenX,r>1]:[a.pageY,a.pageX,r>1];default:return o?[e.pageY-o[0]+i[0],e.pageX-o[1]+i[1],!1]:[e.pageY,e.pageX,!1]}},k=function(){var e,n,o,i=t(this),a=i.data("mCS"),l=a.opt,c="mCS_"+a.idx,d=["mCSB_"+a.idx+"_dragger_vertical","mCSB_"+a.idx+"_dragger_horizontal"],u=t("#mCSB_"+a.idx+"_container"),h=t("#"+d[0]+",#"+d[1]),f=l.advanced.releaseDraggableSelectors?h.add(t(l.advanced.releaseDraggableSelectors)):h,p=l.advanced.extraDraggableSelectors?t(!M()||top.document).add(t(l.advanced.extraDraggableSelectors)):t(!M()||top.document);function m(t,n,o,r){if(u[0].idleTimer=l.scrollInertia<233?250:0,e.attr("id")===d[1])var s="x",c=(e[0].offsetLeft-n+r)*a.scrollRatio.x;else s="y",c=(e[0].offsetTop-t+o)*a.scrollRatio.y;N(i,c.toString(),{dir:s,drag:!0})}h.bind("contextmenu."+c,(function(t){t.preventDefault()})).bind("mousedown."+c+" touchstart."+c+" pointerdown."+c+" MSPointerDown."+c,(function(a){if(a.stopImmediatePropagation(),a.preventDefault(),G(a)){s=!0,r&&(document.onselectstart=function(){return!1}),z.call(u,!1),X(i);var c=(e=t(this)).offset(),d=P(a)[0]-c.top,h=P(a)[1]-c.left,f=e.height()+c.top,p=e.width()+c.left;d<f&&d>0&&h<p&&h>0&&(n=d,o=h),w(e,"active",l.autoExpandScrollbar)}})).bind("touchmove."+c,(function(t){t.stopImmediatePropagation(),t.preventDefault();var i=e.offset(),a=P(t)[0]-i.top,r=P(t)[1]-i.left;m(n,o,a,r)})),t(document).add(p).bind("mousemove."+c+" pointermove."+c+" MSPointerMove."+c,(function(t){if(e){var i=e.offset(),a=P(t)[0]-i.top,r=P(t)[1]-i.left;if(n===a&&o===r)return;m(n,o,a,r)}})).add(f).bind("mouseup."+c+" touchend."+c+" pointerup."+c+" MSPointerUp."+c,(function(t){e&&(w(e,"active",l.autoExpandScrollbar),e=null),s=!1,r&&(document.onselectstart=null),z.call(u,!0)}))},I=function(){var n,o,i,a,r,l,c,d,u,h,f,p,m,g,v=t(this),b=v.data("mCS"),y=b.opt,x="mCS_"+b.idx,w=t("#mCSB_"+b.idx),S=t("#mCSB_"+b.idx+"_container"),C=[t("#mCSB_"+b.idx+"_dragger_vertical"),t("#mCSB_"+b.idx+"_dragger_horizontal")],_=[],T=[],E="yx"===y.axis?"none":"all",k=[],I=S.find("iframe"),$=["touchstart."+x+" pointerdown."+x+" MSPointerDown."+x,"touchmove."+x+" pointermove."+x+" MSPointerMove."+x,"touchend."+x+" pointerup."+x+" MSPointerUp."+x],B=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function L(t){if(!K(t)||s||P(t)[2])e=0;else{e=1,m=0,g=0,n=1,v.removeClass("mCS_touch_action");var a=S.offset();o=P(t)[0]-a.top,i=P(t)[1]-a.left,k=[P(t)[0],P(t)[1]]}}function z(t){if(K(t)&&!s&&!P(t)[2]&&(y.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!g||m)&&n)){c=Q();var e=w.offset(),a=P(t)[0]-e.top,r=P(t)[1]-e.left;if(_.push(a),T.push(r),k[2]=Math.abs(P(t)[0]-k[0]),k[3]=Math.abs(P(t)[1]-k[1]),b.overflowed[0])var l=C[0].parent().height()-C[0].height(),d=o-a>0&&a-o>-l*b.scrollRatio.y&&(2*k[3]<k[2]||"yx"===y.axis);if(b.overflowed[1])var u=C[1].parent().width()-C[1].width(),h=i-r>0&&r-i>-u*b.scrollRatio.x&&(2*k[2]<k[3]||"yx"===y.axis);d||h?(B||t.preventDefault(),m=1):(g=1,v.addClass("mCS_touch_action")),B&&t.preventDefault(),f="yx"===y.axis?[o-a,i-r]:"x"===y.axis?[null,i-r]:[o-a,null],S[0].idleTimer=250,b.overflowed[0]&&W(f[0],0,"mcsLinearOut","y","all",!0),b.overflowed[1]&&W(f[1],0,"mcsLinearOut","x",E,!0)}}function O(t){if(!K(t)||s||P(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),X(v),l=Q();var n=w.offset();a=P(t)[0]-n.top,r=P(t)[1]-n.left,_=[],T=[]}}function A(t){if(K(t)&&!s&&!P(t)[2]){n=0,t.stopImmediatePropagation(),m=0,g=0,d=Q();var e=w.offset(),o=P(t)[0]-e.top,i=P(t)[1]-e.left;if(!(d-c>30)){var v=(h=1e3/(d-l))<2.5,x=v?[_[_.length-2],T[T.length-2]]:[0,0];u=v?[o-x[0],i-x[1]]:[o-a,i-r];var C=[Math.abs(u[0]),Math.abs(u[1])];h=v?[Math.abs(u[0]/4),Math.abs(u[1]/4)]:[h,h];var k=[Math.abs(S[0].offsetTop)-u[0]*R(C[0]/h[0],h[0]),Math.abs(S[0].offsetLeft)-u[1]*R(C[1]/h[1],h[1])];f="yx"===y.axis?[k[0],k[1]]:"x"===y.axis?[null,k[1]]:[k[0],null],p=[4*C[0]+y.scrollInertia,4*C[1]+y.scrollInertia];var I=parseInt(y.contentTouchScroll)||0;f[0]=C[0]>I?f[0]:0,f[1]=C[1]>I?f[1]:0,b.overflowed[0]&&W(f[0],p[0],"mcsEaseOut","y",E,!1),b.overflowed[1]&&W(f[1],p[1],"mcsEaseOut","x",E,!1)}}}function R(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function W(t,e,n,o,i,a){t&&N(v,t.toString(),{dur:e,scrollEasing:n,dir:o,overwrite:i,drag:a})}S.bind($[0],(function(t){L(t)})).bind($[1],(function(t){z(t)})),w.bind($[0],(function(t){O(t)})).bind($[2],(function(t){A(t)})),I.length&&I.each((function(){t(this).bind("load",(function(){M(this)&&t(this.contentDocument||this.contentWindow.document).bind($[0],(function(t){L(t),O(t)})).bind($[1],(function(t){z(t)})).bind($[2],(function(t){A(t)}))}))}))},$=function(){var n,o=t(this),i=o.data("mCS"),a=i.opt,r=i.sequential,l="mCS_"+i.idx,c=t("#mCSB_"+i.idx+"_container"),d=c.parent();function u(t,e,i){r.type=i&&n?"stepped":"stepless",r.scrollAmount=10,j(o,t,e,"mcsLinearOut",i?60:null)}c.bind("mousedown."+l,(function(t){e||n||(n=1,s=!0)})).add(document).bind("mousemove."+l,(function(t){if(!e&&n&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var o=c.offset(),s=P(t)[0]-o.top+c[0].offsetTop,l=P(t)[1]-o.left+c[0].offsetLeft;s>0&&s<d.height()&&l>0&&l<d.width()?r.step&&u("off",null,"stepped"):("x"!==a.axis&&i.overflowed[0]&&(s<0?u("on",38):s>d.height()&&u("on",40)),"y"!==a.axis&&i.overflowed[1]&&(l<0?u("on",37):l>d.width()&&u("on",39)))}})).bind("mouseup."+l+" dragend."+l,(function(t){e||(n&&(n=0,u("off",null)),s=!1)}))},B=function(){if(t(this).data("mCS")){var e=t(this),n=e.data("mCS"),o=n.opt,i="mCS_"+n.idx,a=t("#mCSB_"+n.idx),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],l=t("#mCSB_"+n.idx+"_container").find("iframe");l.length&&l.each((function(){t(this).bind("load",(function(){M(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+i,(function(t,e){c(t,e)}))}))})),a.bind("mousewheel."+i,(function(t,e){c(t,e)}))}function c(i,l){if(X(e),!O(e,i.target)){var c="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):r&&i.deltaFactor<100?100:i.deltaFactor||100,d=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var u="x",h=[Math.round(c*n.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=a.width()?.9*a.width():h[0],p=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=s[1][0].offsetLeft,g=s[1].parent().width()-s[1].width(),v="y"===o.mouseWheel.axis?i.deltaY||l:i.deltaX;else u="y",h=[Math.round(c*n.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=a.height()?.9*a.height():h[0],p=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetTop),m=s[0][0].offsetTop,g=s[0].parent().height()-s[0].height(),v=i.deltaY||l;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((o.mouseWheel.invert||i.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==m||v<0&&m!==g||o.mouseWheel.preventDefault)&&(i.stopImmediatePropagation(),i.preventDefault()),i.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(f=i.deltaFactor,d=17),N(e,(p-v*f).toString(),{dir:u,dur:d}))}}},L=new Object,M=function(e){var n=!1,o=!1,i=null;if(void 0===e?o="#empty":void 0!==t(e).attr("id")&&(o=t(e).attr("id")),!1!==o&&void 0!==L[o])return L[o];if(e){try{i=(e.contentDocument||e.contentWindow.document).body.innerHTML}catch(t){}n=null!==i}else{try{i=top.document.body.innerHTML}catch(t){}n=null!==i}return!1!==o&&(L[o]=n),n},z=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},O=function(e,n){var o=n.nodeName.toLowerCase(),i=e.data("mCS").opt.mouseWheel.disableOver;return t.inArray(o,i)>-1&&!(t.inArray(o,["select","textarea"])>-1&&!t(n).is(":focus"))},A=function(){var e,n=t(this),o=n.data("mCS"),i="mCS_"+o.idx,a=t("#mCSB_"+o.idx+"_container"),r=a.parent();t(".mCSB_"+o.idx+"_scrollbar ."+l[12]).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,(function(n){s=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)})).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,(function(t){s=!1})).bind("click."+i,(function(i){if(e&&(e=0,t(i.target).hasClass(l[12])||t(i.target).hasClass("mCSB_draggerRail"))){X(n);var s=t(this),c=s.find(".mCSB_dragger");if(s.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var d="x",u=i.pageX>c.offset().left?-1:1,h=Math.abs(a[0].offsetLeft)-u*(.9*r.width())}else{if(!o.overflowed[0])return;d="y",u=i.pageY>c.offset().top?-1:1,h=Math.abs(a[0].offsetTop)-u*(.9*r.height())}N(n,h.toString(),{dir:d,scrollEasing:"mcsEaseInOut"})}}))},R=function(){var e=t(this),n=e.data("mCS"),o=n.opt,i="mCS_"+n.idx,a=t("#mCSB_"+n.idx+"_container"),r=a.parent();a.bind("focusin."+i,(function(n){var i=t(document.activeElement),s=a.find(".mCustomScrollBox").length;i.is(o.advanced.autoScrollOnFocus)&&(X(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=s?17*s:0,e[0]._focusTimeout=setTimeout((function(){var t=[tt(i)[0],tt(i)[1]],n=[a[0].offsetTop,a[0].offsetLeft],s=[n[0]+t[0]>=0&&n[0]+t[0]<r.height()-i.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<r.width()-i.outerWidth(!1)],l="yx"!==o.axis||s[0]||s[1]?"all":"none";"x"===o.axis||s[0]||N(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===o.axis||s[1]||N(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})}),e[0]._focusTimer))}))},W=function(){var e=t(this).data("mCS"),n="mCS_"+e.idx,o=t("#mCSB_"+e.idx+"_container").parent();o.bind("scroll."+n,(function(n){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")}))},D=function(){var e=t(this),n=e.data("mCS"),o=n.opt,i=n.sequential,a="mCS_"+n.idx,r=".mCSB_"+n.idx+"_scrollbar";t(r+">a").bind("contextmenu."+a,(function(t){t.preventDefault()})).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,(function(a){if(a.preventDefault(),G(a)){var r=t(this).attr("class");switch(i.type=o.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;s=!0,n.tweenRunning=!1,l("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;s=!1,i.dir&&l("off",r);break;case"click":if("stepped"!==i.type||n.tweenRunning)return;l("on",r)}}function l(t,n){i.scrollAmount=o.scrollButtons.scrollAmount,j(e,t,n)}}))},F=function(){var e=t(this),n=e.data("mCS"),o=n.opt,i=n.sequential,a="mCS_"+n.idx,r=t("#mCSB_"+n.idx),s=t("#mCSB_"+n.idx+"_container"),l=s.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']",d=s.find("iframe"),u=["blur."+a+" keydown."+a+" keyup."+a];function h(a){switch(a.type){case"blur":n.tweenRunning&&i.dir&&p("off",null);break;case"keydown":case"keyup":var r=a.keyCode?a.keyCode:a.which,d="on";if("x"!==o.axis&&(38===r||40===r)||"y"!==o.axis&&(37===r||39===r)){if((38===r||40===r)&&!n.overflowed[0]||(37===r||39===r)&&!n.overflowed[1])return;"keyup"===a.type&&(d="off"),t(document.activeElement).is(c)||(a.preventDefault(),a.stopImmediatePropagation(),p(d,r))}else if(33===r||34===r){if((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type){X(e);var u=34===r?-1:1;if("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",f=Math.abs(s[0].offsetLeft)-u*(.9*l.width());else h="y",f=Math.abs(s[0].offsetTop)-u*(.9*l.height());N(e,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else 35!==r&&36!==r||t(document.activeElement).is(c)||((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"!==a.type)||("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0]?(h="x",f=35===r?Math.abs(l.width()-s.outerWidth(!1)):0):(h="y",f=35===r?Math.abs(l.height()-s.outerHeight(!1)):0),N(e,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"}))}function p(t,a){i.type=o.keyboard.scrollType,i.scrollAmount=o.keyboard.scrollAmount,"stepped"===i.type&&n.tweenRunning||j(e,t,a)}}d.length&&d.each((function(){t(this).bind("load",(function(){M(this)&&t(this.contentDocument||this.contentWindow.document).bind(u[0],(function(t){h(t)}))}))})),r.attr("tabindex","0").bind(u[0],(function(t){h(t)}))},j=function(e,n,o,i,a){var r=e.data("mCS"),s=r.opt,c=r.sequential,d=t("#mCSB_"+r.idx+"_container"),u="stepped"===c.type,h=s.scrollInertia<26?26:s.scrollInertia,f=s.scrollInertia<1?17:s.scrollInertia;switch(n){case"on":if(c.dir=[o===l[16]||o===l[15]||39===o||37===o?"x":"y",o===l[13]||o===l[15]||38===o||37===o?-1:1],X(e),J(o)&&"stepped"===c.type)return;p(u);break;case"off":clearTimeout(c.step),Z(c,"step"),X(e),(u||r.tweenRunning&&c.dir)&&p(!0)}function p(t){s.snapAmount&&(c.scrollAmount=s.snapAmount instanceof Array?"x"===c.dir[0]?s.snapAmount[1]:s.snapAmount[0]:s.snapAmount);var n="stepped"!==c.type,o=a||(t?n?h/1.5:f:1e3/60),l=t?n?7.5:40:2.5,u=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],m=[r.scrollRatio.y>10?10:r.scrollRatio.y,r.scrollRatio.x>10?10:r.scrollRatio.x],g="x"===c.dir[0]?u[1]+c.dir[1]*(m[1]*l):u[0]+c.dir[1]*(m[0]*l),v="x"===c.dir[0]?u[1]+c.dir[1]*parseInt(c.scrollAmount):u[0]+c.dir[1]*parseInt(c.scrollAmount),b="auto"!==c.scrollAmount?v:g,y=i||(t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),x=!!t;t&&o<17&&(b="x"===c.dir[0]?u[1]:u[0]),N(e,b.toString(),{dir:c.dir[0],scrollEasing:y,dur:o,onComplete:x}),t?c.dir=!1:(clearTimeout(c.step),c.step=setTimeout((function(){p()}),o))}},q=function(e){var n=t(this).data("mCS").opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===n.axis?null:e,o[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},H=function(e,n){if(null!=e&&void 0!==e){var o=t(this),i=o.data("mCS"),a=i.opt,r=t("#mCSB_"+i.idx+"_container"),s=r.parent(),l=typeof e;n||(n="x"===a.axis?"x":"y");var d="x"===n?r.outerWidth(!1)-s.width():r.outerHeight(!1)-s.height(),u="x"===n?r[0].offsetLeft:r[0].offsetTop,h="x"===n?"left":"top";switch(l){case"function":return e();case"object":if(!(p=e.jquery?e:t(e)).length)return;return"x"===n?tt(p)[1]:tt(p)[0];case"string":case"number":if(J(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(d*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(u-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var f=u+parseInt(e.split("+=")[1]);return f>=0?0:Math.abs(f)}if(-1!==e.indexOf("px")&&J(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(s.height()-r.outerHeight(!1));if("right"===e)return Math.abs(s.width()-r.outerWidth(!1));if("first"===e||"last"===e){var p=r.find(":"+e);return"x"===n?tt(p)[1]:tt(p)[0]}return t(e).length?"x"===n?tt(t(e))[1]:tt(t(e))[0]:(r.css(h,e),void c.update.call(null,o[0]))}}},Y=function(e){var n=t(this),o=n.data("mCS"),i=o.opt,a=t("#mCSB_"+o.idx+"_container");if(e)return clearTimeout(a[0].autoUpdate),void Z(a[0],"autoUpdate");function r(t){clearTimeout(a[0].autoUpdate),c.update.call(null,n[0],t)}!(function e(){clearTimeout(a[0].autoUpdate),0!==n.parents("html").length?a[0].autoUpdate=setTimeout((function(){return i.advanced.updateOnSelectorChange&&(o.poll.change.n=(function(){!0===i.advanced.updateOnSelectorChange&&(i.advanced.updateOnSelectorChange="*");var t=0,e=a.find(i.advanced.updateOnSelectorChange);return i.advanced.updateOnSelectorChange&&e.length>0&&e.each((function(){t+=this.offsetHeight+this.offsetWidth})),t})(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void r(3)):i.advanced.updateOnContentResize&&(o.poll.size.n=n[0].scrollHeight+n[0].scrollWidth+a[0].offsetHeight+n[0].offsetHeight+n[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void r(1)):!i.advanced.updateOnImageLoad||"auto"===i.advanced.updateOnImageLoad&&"y"===i.axis||(o.poll.img.n=a.find("img").length,o.poll.img.n===o.poll.img.o)?void((i.advanced.updateOnSelectorChange||i.advanced.updateOnContentResize||i.advanced.updateOnImageLoad)&&e()):(o.poll.img.o=o.poll.img.n,void a.find("img").each((function(){!(function(e){if(t(e).hasClass(l[2]))r();else{var n,o,i=new Image;i.onload=(n=i,o=function(){this.onload=null,t(e).addClass(l[2]),r(2)},function(){return o.apply(n,arguments)}),i.src=e.src}})(this)})))}),i.advanced.autoUpdateTimeout):n=null})()},X=function(e){var n=e.data("mCS");t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each((function(){V.call(this)}))},N=function(e,n,o){var i=e.data("mCS"),a=i.opt,r={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:a.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=[(o=t.extend(r,o)).dur,o.drag?0:o.dur],l=t("#mCSB_"+i.idx),c=t("#mCSB_"+i.idx+"_container"),d=c.parent(),u=a.callbacks.onTotalScrollOffset?q.call(e,a.callbacks.onTotalScrollOffset):[0,0],h=a.callbacks.onTotalScrollBackOffset?q.call(e,a.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=o.trigger,0===d.scrollTop()&&0===d.scrollLeft()||(t(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),d.scrollTop(0).scrollLeft(0)),"_resetY"!==n||i.contentReset.y||(C("onOverflowYNone")&&a.callbacks.onOverflowYNone.call(e[0]),i.contentReset.y=1),"_resetX"!==n||i.contentReset.x||(C("onOverflowXNone")&&a.callbacks.onOverflowXNone.call(e[0]),i.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!i.contentReset.y&&e[0].mcs||!i.overflowed[0]||(C("onOverflowY")&&a.callbacks.onOverflowY.call(e[0]),i.contentReset.x=null),!i.contentReset.x&&e[0].mcs||!i.overflowed[1]||(C("onOverflowX")&&a.callbacks.onOverflowX.call(e[0]),i.contentReset.x=null),a.snapAmount&&(n=(function(t,e,n){return Math.round(t/e)*e-n})(n,a.snapAmount instanceof Array?"x"===o.dir?a.snapAmount[1]:a.snapAmount[0]:a.snapAmount,a.snapOffset)),o.dir){case"x":var f=t("#mCSB_"+i.idx+"_dragger_horizontal"),p="left",m=c[0].offsetLeft,g=[l.width()-c.outerWidth(!1),f.parent().width()-f.width()],v=[n,0===n?0:n/i.scrollRatio.x],b=u[1],y=h[1],x=b>0?b/i.scrollRatio.x:0,S=y>0?y/i.scrollRatio.x:0;break;case"y":f=t("#mCSB_"+i.idx+"_dragger_vertical"),p="top",m=c[0].offsetTop,g=[l.height()-c.outerHeight(!1),f.parent().height()-f.height()],v=[n,0===n?0:n/i.scrollRatio.y],b=u[0],y=h[0],x=b>0?b/i.scrollRatio.y:0,S=y>0?y/i.scrollRatio.y:0}v[1]<0||0===v[0]&&0===v[1]?v=[0,0]:v[1]>=g[1]?v=[g[0],g[1]]:v[0]=-v[0],e[0].mcs||(_(),C("onInit")&&a.callbacks.onInit.call(e[0])),clearTimeout(c[0].onCompleteTimeout),U(f[0],p,Math.round(v[1]),s[1],o.scrollEasing),!i.tweenRunning&&(0===m&&v[0]>=0||m===g[0]&&v[0]<=g[0])||U(c[0],p,Math.round(v[0]),s[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!i.tweenRunning&&(C("onScrollStart")&&(_(),a.callbacks.onScrollStart.call(e[0])),i.tweenRunning=!0,w(f),i.cbOffsets=[a.callbacks.alwaysTriggerOffsets||m>=g[0]+b,a.callbacks.alwaysTriggerOffsets||m<=-y])},onUpdate:function(){o.callbacks&&o.onUpdate&&C("whileScrolling")&&(_(),a.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===a.axis&&clearTimeout(c[0].onCompleteTimeout);var t=c[0].idleTimer||0;c[0].onCompleteTimeout=setTimeout((function(){C("onScroll")&&(_(),a.callbacks.onScroll.call(e[0])),C("onTotalScroll")&&v[1]>=g[1]-x&&i.cbOffsets[0]&&(_(),a.callbacks.onTotalScroll.call(e[0])),C("onTotalScrollBack")&&v[1]<=S&&i.cbOffsets[1]&&(_(),a.callbacks.onTotalScrollBack.call(e[0])),i.tweenRunning=!1,c[0].idleTimer=0,w(f,"hide")}),t)}}})}function C(t){return i&&a.callbacks[t]&&"function"==typeof a.callbacks[t]}function _(){var t=[c[0].offsetTop,c[0].offsetLeft],n=[f[0].offsetTop,f[0].offsetLeft],i=[c.outerHeight(!1),c.outerWidth(!1)],a=[l.height(),l.width()];e[0].mcs={content:c,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-a[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-a[1])),direction:o.dir}}},U=function(t,e,n,o,i,a,r){t._mTween||(t._mTween={top:{},left:{}});var s,l,c=(r=r||{}).onStart||function(){},d=r.onUpdate||function(){},u=r.onComplete||function(){},h=Q(),f=0,p=t.offsetTop,m=t.style,g=t._mTween[e];"left"===e&&(p=t.offsetLeft);var v=n-p;function b(){g.stop||(f||c.call(),f=Q()-h,y(),f>=g.time&&(g.time=f>g.time?f+s-(f-g.time):f+s-1,g.time<f+1&&(g.time=f+1)),g.time<o?g.id=l(b):u.call())}function y(){o>0?(g.currVal=(function(t,e,n,o,i){switch(i){case"linear":case"mcsLinear":return n*t/o+e;case"mcsLinearOut":return t/=o,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=o/2)<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=o/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=o,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/o))+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=o)*t,r=a*t;return e+n*(.499999999999997*r*a+-2.5*a*a+5.5*r+-6.5*a+4*t)}})(g.time,p,v,o,i),m[e]=Math.round(g.currVal)+"px"):m[e]=n+"px",d.call()}g.stop=0,"none"!==a&&null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null),s=1e3/60,g.time=f+s,l=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return y(),setTimeout(t,.01)},g.id=l(b)},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},V=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var o=e[n];t._mTween[o].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[o].id):clearTimeout(t._mTween[o].id),t._mTween[o].id=null,t._mTween[o].stop=1)}},Z=function(t,e){try{delete t[e]}catch(n){t[e]=null}},G=function(t){return!(t.which&&1!==t.which)},K=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},J=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},tt=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},et=function(){var t=(function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null})();return!!t&&document[t]},t.fn[n]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[n]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[n].defaults=o,window[n]=!0,t(window).bind("load",(function(){t(".mCustomScrollbar")[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,o,i=t(e),a=i.parents(".mCSB_container");if(a.length)return n=a.parent(),(o=[a[0].offsetTop,a[0].offsetLeft])[0]+tt(i)[0]>=0&&o[0]+tt(i)[0]<n.height()-i.outerHeight(!1)&&o[1]+tt(i)[1]>=0&&o[1]+tt(i)[1]<n.width()-i.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,o){var i,a,r,s,l=t(e),c=l.parents(".mCSB_container"),d="exact"===o[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return i=[l.outerHeight(!1),l.outerWidth(!1)],r=[c[0].offsetTop+tt(l)[0],c[0].offsetLeft+tt(l)[1]],a=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],r[0]-a[0]*(s=[i[0]<a[0]?d[0]:d[1],i[1]<a[1]?d[0]:d[1]])[0][0]<0&&r[0]+i[0]-a[0]*s[0][1]>=0&&r[1]-a[1]*s[1][0]<0&&r[1]+i[1]-a[1]*s[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data("mCS");if(n)return n.overflowed[0]||n.overflowed[1]}})}))})),
/*! device.js 0.2.7 */
function(){var t,e,n,o,i,a,r,s,l,c;e=window.device,t={},window.device=t,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),t.ios=function(){return t.iphone()||t.ipod()||t.ipad()},t.iphone=function(){return!t.windows()&&i("iphone")},t.ipod=function(){return i("ipod")},t.ipad=function(){return i("ipad")},t.android=function(){return!t.windows()&&i("android")},t.androidPhone=function(){return t.android()&&i("mobile")},t.androidTablet=function(){return t.android()&&!i("mobile")},t.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},t.blackberryPhone=function(){return t.blackberry()&&!i("tablet")},t.blackberryTablet=function(){return t.blackberry()&&i("tablet")},t.windows=function(){return i("windows")},t.windowsPhone=function(){return t.windows()&&i("phone")},t.windowsTablet=function(){return t.windows()&&i("touch")&&!t.windowsPhone()},t.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},t.fxosPhone=function(){return t.fxos()&&i("mobile")},t.fxosTablet=function(){return t.fxos()&&i("tablet")},t.meego=function(){return i("meego")},t.cordova=function(){return window.cordova&&"file:"===location.protocol},t.nodeWebkit=function(){return"object"==typeof window.process},t.mobile=function(){return t.androidPhone()||t.iphone()||t.ipod()||t.windowsPhone()||t.blackberryPhone()||t.fxosPhone()||t.meego()},t.tablet=function(){return t.ipad()||t.androidTablet()||t.blackberryTablet()||t.windowsTablet()||t.fxosTablet()},t.desktop=function(){return!t.tablet()&&!t.mobile()},t.television=function(){var t;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],t=0;t<television.length;){if(i(television[t]))return!0;t++}return!1},t.portrait=function(){return window.innerHeight/window.innerWidth>1},t.landscape=function(){return window.innerHeight/window.innerWidth<1},t.noConflict=function(){return window.device=e,this},i=function(t){return-1!==c.indexOf(t)},r=function(t){var e;return e=new RegExp(t,"i"),o.className.match(e)},n=function(t){var e=null;r(t)||(e=o.className.replace(/^\s+|\s+$/g,""),o.className=e+" "+t)},l=function(t){r(t)&&(o.className=o.className.replace(" "+t,""))},t.ios()?t.ipad()?n("ios ipad tablet"):t.iphone()?n("ios iphone mobile"):t.ipod()&&n("ios ipod mobile"):t.android()?n(t.androidTablet()?"android tablet":"android mobile"):t.blackberry()?n(t.blackberryTablet()?"blackberry tablet":"blackberry mobile"):t.windows()?n(t.windowsTablet()?"windows tablet":t.windowsPhone()?"windows mobile":"desktop"):t.fxos()?n(t.fxosTablet()?"fxos tablet":"fxos mobile"):t.meego()?n("meego mobile"):t.nodeWebkit()?n("node-webkit"):t.television()?n("television"):t.desktop()&&n("desktop"),t.cordova()&&n("cordova"),a=function(){t.landscape()?(l("portrait"),n("landscape")):(l("landscape"),n("portrait"))},s=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(s,a,!1):window.attachEvent?window.attachEvent(s,a):window[s]=a,a(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define((function(){return t})):"undefined"!=typeof module&&module.exports?module.exports=t:window.device=t}.call(this),(function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()})("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return-1==o.indexOf(e)&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return-1!=o&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var o=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var a=n[i];o&&o[a]&&(this.off(t,a),delete o[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})),(function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)})("undefined"!=typeof window?window:this,(function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e,i){if(!(this instanceof o))return new o(t,e,i);var a=t;return"string"==typeof t&&(a=document.querySelectorAll(t)),a?(this.elements=(function(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?l.call(t):[t]})(a),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(this.check.bind(this))):void s.error("Bad element for imagesLoaded "+(a||t))}function i(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var r=t.jQuery,s=t.console,l=Array.prototype.slice;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),o=0;o<n.length;o++){var i=n[o];this.addImage(i)}if("string"==typeof this.options.background){var a=t.querySelectorAll(this.options.background);for(o=0;o<a.length;o++){var r=a[o];this.addElementBackgroundImages(r)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,o=n.exec(e.backgroundImage);null!==o;){var i=o&&o[2];i&&this.addBackground(i,t),o=n.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var n=new a(t,e);this.images.push(n)},o.prototype.check=function(){function t(t,n,o){setTimeout((function(){e.progress(t,n,o)}))}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(e){e.once("progress",t),e.check()})):void this.complete()},o.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},i.prototype=Object.create(e.prototype),i.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(i.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(r(this))})},o.makeJQueryPlugin(),o})),(function(t,e,n,o){"use strict";function i(t){var e=t.currentTarget,o=t.data?t.data.options:{},i=o.selector?n(o.selector):t.data?t.data.items:[],a=n(e).attr("data-fancybox")||"",r=0,s=n.fancybox.getInstance();t.preventDefault(),t.stopPropagation(),s&&s.current.opts.$orig.is(e)||(a?(r=(i=i.length?i.filter('[data-fancybox="'+a+'"]'):n('[data-fancybox="'+a+'"]')).index(e))<0&&(r=0):i=[e],n.fancybox.open(i,o,r))}if(n){if(n.fn.fancybox)return void n.error("fancyBox already initialized");var a={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},r=n(t),s=n(e),l=0,c=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},d=(function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(n.style[t]!==o)return i[t]})(),u=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,o,i){var r=this;r.opts=n.extend(!0,{index:i},a,o||{}),o&&n.isArray(o.buttons)&&(r.opts.buttons=o.buttons),r.id=r.opts.id||++l,r.group=[],r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=null,r.createGroup(t),r.group.length&&(r.$lastFocus=n(e.activeElement).blur(),r.slides={},r.init(t))};n.extend(h.prototype,{init:function(){var t,e,o,i=this,a=i.group[i.currIndex].opts;i.scrollTop=s.scrollTop(),i.scrollLeft=s.scrollLeft(),n.fancybox.getInstance()||n.fancybox.isMobile||"hidden"===n("body").css("overflow")||(t=n("body").width(),n("html").addClass("fancybox-enabled"),(t=n("body").width()-t)>1&&n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+t+"px; }</style>")),o="",n.each(a.buttons,(function(t,e){o+=a.btnTpl[e]||""})),e=n(i.translate(i,a.baseTpl.replace("{{BUTTONS}}",o))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+i.id).addClass(a.baseClass).data("FancyBox",i).prependTo(a.parentEl),i.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption"].forEach((function(t){i.$refs[t]=e.find(".fancybox-"+t)})),(!a.arrows||i.group.length<2)&&e.find(".fancybox-navigation").remove(),a.infobar||i.$refs.infobar.remove(),a.toolbar||i.$refs.toolbar.remove(),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,(function(t,e){var i=n[e];return i===o?t:i}))},createGroup:function(t){var e=this,i=n.makeArray(t);n.each(i,(function(t,i){var a,r,s,l,c={},d={},u=[];n.isPlainObject(i)?(c=i,d=i.opts||i):"object"===n.type(i)&&n(i).length?(a=n(i),u=a.data(),d="options"in u?u.options:{},d="object"===n.type(d)?d:{},c.src="src"in u?u.src:d.src||a.attr("href"),["width","height","thumb","type","filter"].forEach((function(t){t in u&&(d[t]=u[t])})),"srcset"in u&&(d.image={srcset:u.srcset}),d.$orig=a,c.type||c.src||(c.type="inline",c.src=i)):c={type:"html",src:i+""},c.opts=n.extend(!0,{},e.opts,d),n.fancybox.isMobile&&(c.opts=n.extend(!0,{},c.opts,c.opts.mobile)),r=c.type||c.opts.type,s=c.src||"",!r&&s&&(s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?r="image":s.match(/\.(pdf)((\?|#).*)?$/i)?r="pdf":"#"===s.charAt(0)&&(r="inline")),c.type=r,c.index=e.group.length,c.opts.$orig&&!c.opts.$orig.length&&delete c.opts.$orig,!c.opts.$thumb&&c.opts.$orig&&(c.opts.$thumb=c.opts.$orig.find("img:first")),c.opts.$thumb&&!c.opts.$thumb.length&&delete c.opts.$thumb,"function"===n.type(c.opts.caption)?c.opts.caption=c.opts.caption.apply(i,[e,c]):"caption"in u&&(c.opts.caption=u.caption),c.opts.caption=c.opts.caption===o?"":c.opts.caption+"","ajax"===r&&((l=s.split(/\s+/,2)).length>1&&(c.src=l.shift(),c.opts.filter=l.shift())),"auto"==c.opts.smallBtn&&(n.inArray(r,["html","inline","ajax"])>-1?(c.opts.toolbar=!1,c.opts.smallBtn=!0):c.opts.smallBtn=!1),"pdf"===r&&(c.type="iframe",c.opts.iframe.preload=!1),c.opts.modal&&(c.opts=n.extend(!0,c.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),e.group.push(c)}))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(t){t.stopPropagation(),t.preventDefault(),o.close(t)})).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",(function(t){t.stopPropagation(),t.preventDefault(),o.previous()})).on("click.fb-next touchend.fb-next","[data-fancybox-next]",(function(t){t.stopPropagation(),t.preventDefault(),o.next()})),r.on("orientationchange.fb resize.fb",(function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?c((function(){o.update()})):(o.$refs.stage.hide(),setTimeout((function(){o.$refs.stage.show(),o.update()}),500))})),s.on("focusin.fb",(function(t){var i=n.fancybox?n.fancybox.getInstance():null;i.isClosing||!i.current||!i.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||i&&"fixed"!==n(t.target).css("position")&&!i.$refs.container.has(t.target).length&&(t.stopPropagation(),i.focus(),r.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))})),s.on("keydown.fb",(function(t){var e=o.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!n(t.target).is("input")&&!n(t.target).is("textarea"))return 8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i)})),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",(function(){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1})),o.idleInterval=t.setInterval((function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())}),1e3))},removeEvents:function(){var e=this;r.off("orientationchange.fb resize.fb"),s.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e,i){var a,r,s,l,c,d,h,f=this,p=f.group.length;if(!(f.isSliding||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(r=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=p))return!1;if(a=f.firstRun=null===f.firstRun,!(p<2&&!a&&f.isSliding)){if(l=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),p>1&&((r||s.index>0)&&f.createSlide(t-1),(r||s.index<p-1)&&f.createSlide(t+1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger("beforeShow",a),f.updateControls(),d=n.fancybox.getTranslate(s.$slide),s.isMoved=(0!==d.left||0!==d.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=o,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[a?"animationDuration":"transitionDuration"],e=parseInt(e,10),a)return s.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.removeClass("fancybox-is-hidden"),u(f.$refs.container),f.$refs.container.addClass("fancybox-is-open"),s.$slide.addClass("fancybox-slide--current"),f.loadSlide(s),void f.preload();n.each(f.slides,(function(t,e){n.fancybox.stop(e.$slide)})),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(c=Math.round(s.$slide.width()),n.each(f.slides,(function(t,o){var i=o.pos-s.pos;n.fancybox.animate(o.$slide,{top:0,left:i*c+i*o.opts.gutter},e,(function(){o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===f.currPos&&(s.isMoved=!1,f.complete())}))}))):f.$refs.stage.children().removeAttr("style"),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload(),l.pos!==s.pos&&(h="fancybox-slide--"+(l.pos>s.pos?"next":"previous"),l.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),l.isComplete=!1,e&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?l.$slide.addClass(h):(h="fancybox-animated "+h+" fancybox-fx-"+s.opts.transitionEffect,n.fancybox.animate(l.$slide,h,e,(function(){l.$slide.removeClass(h).removeAttr("style")})))))}}},createSlide:function(t){var e,o,i=this;return o=(o=t%i.group.length)<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var a,r,s,l,c,d=this,u=d.current,h=u.$content,f=parseInt(u.$slide.width(),10),p=parseInt(u.$slide.height(),10),m=u.width,g=u.height;"image"!=u.type||u.hasError||!h||d.isAnimating||(n.fancybox.stop(h),d.isAnimating=!0,t=t===o?.5*f:t,e=e===o?.5*p:e,l=m/(a=n.fancybox.getTranslate(h)).width,c=g/a.height,r=.5*f-.5*m,s=.5*p-.5*g,m>f&&((r=a.left*l-(t*l-t))>0&&(r=0),r<f-m&&(r=f-m)),g>p&&((s=a.top*c-(e*c-e))>0&&(s=0),s<p-g&&(s=p-g)),d.updateCursor(m,g),n.fancybox.animate(h,{top:s,left:r,scaleX:l,scaleY:c},i||330,(function(){d.isAnimating=!1})),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;"image"!=i.type||i.hasError||!a||o.isAnimating||(n.fancybox.stop(a),o.isAnimating=!0,e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,(function(){o.isAnimating=!1})))},getFitPos:function(t){var e,o,i,a,s,l=t.$content,c=t.width,d=t.height,u=t.opts.margin;return!(!l||!l.length||!c&&!d)&&("number"===n.type(u)&&(u=[u,u]),2==u.length&&(u=[u[0],u[1],u[0],u[1]]),r.width()<800&&(u=[0,0,0,0]),e=parseInt(this.$refs.stage.width(),10)-(u[1]+u[3]),o=parseInt(this.$refs.stage.height(),10)-(u[0]+u[2]),i=Math.min(1,e/c,o/d),a=Math.floor(i*c),s=Math.floor(i*d),{top:Math.floor(.5*(o-s))+u[0],left:Math.floor(.5*(e-a))+u[3],width:a,height:s})},update:function(){var t=this;n.each(t.slides,(function(e,n){t.updateSlide(n)}))},updateSlide:function(t){var e=this,o=t.$content;o&&(t.width||t.height)&&(n.fancybox.stop(o),n.fancybox.setTranslate(o,e.getFitPos(t)),t.pos===e.currPos&&e.updateCursor()),t.$slide.trigger("refresh"),e.trigger("onUpdate",t)},updateCursor:function(t,e){var n=this,i=n.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");n.current&&!n.isClosing&&(n.isZoomable()?(i.addClass("fancybox-is-zoomable"),(t!==o&&e!==o?t<n.current.width&&e<n.current.height:n.isScaledDown())?i.addClass("fancybox-can-zoomIn"):n.current.opts.touch?i.addClass("fancybox-can-drag"):i.addClass("fancybox-can-zoomOut")):n.current.opts.touch&&i.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,o=e.current;if(o&&!e.isClosing)return!!("image"===o.type&&o.isLoaded&&!o.hasError&&("zoom"===o.opts.clickContent||n.isFunction(o.opts.clickContent)&&"zoom"===o.opts.clickContent(o))&&(t=e.getFitPos(o),o.width>t.width||o.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,o=!1;return e&&(o=(o=n.fancybox.getTranslate(e)).width<t.width||o.height<t.height),o},canPan:function(){var t=this.current,e=t.$content,n=!1;return e&&(n=this.getFitPos(t),n=Math.abs(e.width()-n.width)>1||Math.abs(e.height()-n.height)>1),n},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,(o=t.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",(function(){i.abort()}));break;default:a.setError(t)}return!0}},setImage:function(e){var o,i,a,r,s=this,l=e.opts.image.srcset;if(l){a=t.devicePixelRatio||1,r=t.innerWidth*a,(i=l.split(",").map((function(t){var e={};return t.trim().split(/\s+/).forEach((function(t,n){var o=parseInt(t.substring(0,t.length-1),10);return 0===n?e.url=t:void(o&&(e.value=o,e.postfix=t[t.length-1]))})),e}))).sort((function(t,e){return t.value-e.value}));for(var c=0;c<i.length;c++){var d=i[c];if("w"===d.postfix&&d.value>=r||"x"===d.postfix&&d.value>=a){o=d;break}}!o&&i.length&&(o=i[i.length-1]),o&&(e.src=o.url,e.width&&e.height&&"w"==o.postfix&&(e.height=e.width/e.height*o.value,e.width=o.value))}e.$content=n('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&(e.opts.thumb||e.opts.$thumb)?(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",(function(){n(this).remove(),e.$ghost=null,s.setBigImage(e)})).one("load",(function(){s.afterLoad(e),s.setBigImage(e)})).addClass("fancybox-image").appendTo(e.$content).attr("src",e.opts.thumb||e.opts.$thumb.attr("src"))):s.setBigImage(e)},setBigImage:function(t){var e=this,o=n("<img />");t.$image=o.one("error",(function(){e.setError(t)})).one("load",(function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&o.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout((function(){t.timouts=null,t.$ghost.hide()}),Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))})).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),o[0].complete?o.trigger("load"):o[0].error?o.trigger("error"):t.timouts=setTimeout((function(){o[0].complete||t.hasError||e.showLoading(t)}),100)},setIframe:function(t){var e,i=this,a=t.opts.iframe,r=t.$slide;t.$content=n('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(r),e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(t.$content),a.preload?(i.showLoading(t),e.on("load.fb error.fb",(function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)})),r.on("refresh.fb",(function(){var n,i,r,s,l=t.$content;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&(a.css.width===o||a.css.height===o)&&(i=e[0].contentWindow.document.documentElement.scrollWidth,r=Math.ceil(n.outerWidth(!0)+(l.width()-i)),s=Math.ceil(n.outerHeight(!0)),l.css({width:a.css.width===o?r+(l.outerWidth()-l.innerWidth()):a.css.width,height:a.css.height===o?s+(l.outerHeight()-l.innerHeight()):a.css.height})),l.removeClass("fancybox-is-hidden")}}))):this.afterLoad(t),e.attr("src",t.src),!0===t.opts.smallBtn&&t.$content.prepend(i.translate(t,t.opts.btnTpl.smallBtn)),r.one("onReset",(function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1}))},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$slide.empty(),(function(t){return t&&t.hasOwnProperty&&t instanceof n})(e)&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(3===(e=n("<div>").append(n.trim(e)).contents())[0].nodeType&&(e=n("<div>").html(e))),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",(function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)})),t.$content=n(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=n(o.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content.filter("div").first())),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",(function(t){return 2==t.button&&t.preventDefault(),!0})),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,a,r,s,l=this,c=t.$slide,d=!1;return e=t.opts[l.firstRun?"animationEffect":"transitionEffect"],a=t.opts[l.firstRun?"animationDuration":"transitionDuration"],a=parseInt(t.forcedDuration===o?a:t.forcedDuration,10),!t.isMoved&&t.pos===l.currPos&&a||(e=!1),"zoom"!==e||t.pos===l.currPos&&a&&"image"===t.type&&!t.hasError&&(d=l.getThumbPos(t))||(e="fade"),"zoom"===e?((s=l.getFitPos(t)).scaleX=s.width/d.width,s.scaleY=s.height/d.height,delete s.width,delete s.height,"auto"==(r=t.opts.zoomOpacity)&&(r=Math.abs(t.width/t.height-d.width/d.height)>.1),r&&(d.opacity=.1,s.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),d),u(t.$content),void n.fancybox.animate(t.$content,s,a,(function(){l.complete()}))):(l.updateSlide(t),e?(n.fancybox.stop(c),i="fancybox-animated fancybox-slide--"+(t.pos>l.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),u(c),void n.fancybox.animate(c,"fancybox-slide--current",a,(function(e){c.removeClass(i).removeAttr("style"),t.pos===l.currPos&&l.complete()}),!0)):(u(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===l.currPos&&l.complete())))},getThumbPos:function(o){var i,a=!1,r=o.opts.$thumb,s=r?r.offset():0;return s&&r[0].ownerDocument===e&&(function(e){for(var o=e[0],i=o.getBoundingClientRect(),a=[];null!==o.parentElement;)"hidden"!==n(o.parentElement).css("overflow")&&"auto"!==n(o.parentElement).css("overflow")||a.push(o.parentElement.getBoundingClientRect()),o=o.parentElement;return a.every((function(t){var e=Math.min(i.right,t.right)-Math.max(i.left,t.left),n=Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top);return e>0&&n>0}))&&i.bottom>0&&i.right>0&&i.left<n(t).width()&&i.top<n(t).height()})(r)&&(i=this.$refs.stage.offset(),a={top:s.top-i.top+parseFloat(r.css("border-top-width")||0),left:s.left-i.left+parseFloat(r.css("border-left-width")||0),width:r.width(),height:r.height(),scaleX:1,scaleY:1}),a},complete:function(){var t=this,o=t.current,i={};o.isMoved||!o.isLoaded||o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),u(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,(function(e,o){o.pos>=t.currPos-1&&o.pos<=t.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.unbind().remove())})),t.slides=i,t.updateCursor(),t.trigger("afterShow"),(n(e.activeElement).is("[disabled]")||o.opts.autoFocus&&"image"!=o.type&&"iframe"!==o.type)&&t.focus())},preload:function(){var t,e,n=this;n.group.length<2||(t=n.slides[n.currPos+1],e=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),e&&"image"===e.type&&n.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(t=(t=e&&e.isComplete?e.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&t.length?t:this.$refs.container).focus()},activate:function(){var t=this;n(".fancybox-container").each((function(){var e=n(this).data("FancyBox");e&&e.uid!==t.uid&&!e.isClosing&&e.trigger("onDeactivate")})),t.current&&(t.$refs.container.index()>0&&t.$refs.container.prependTo(e.body),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,r,s,l,u=this,h=u.current,f=function(){u.cleanUp(t)};return!(u.isClosing||(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,c((function(){u.update()})),1):(u.removeEvents(),h.timouts&&clearTimeout(h.timouts),a=h.$content,o=h.opts.animationEffect,i=n.isNumeric(e)?e:o?h.opts.animationDuration:0,h.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),h.$slide.siblings().trigger("onReset").remove(),i&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),u.hideLoading(h),u.hideControls(),u.updateCursor(),"zoom"!==o||!0!==t&&a&&i&&"image"===h.type&&!h.hasError&&(l=u.getThumbPos(h))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),s.width=s.width*s.scaleX,s.height=s.height*s.scaleY,r=h.opts.zoomOpacity,"auto"==r&&(r=Math.abs(h.width/h.height-l.width/l.height)>.1),r&&(l.opacity=0),s.scaleX=s.width/l.width,s.scaleY=s.height/l.height,s.width=l.width,s.height=l.height,n.fancybox.setTranslate(h.$content,s),n.fancybox.animate(h.$content,l,i,f),0):(o&&i?!0===t?setTimeout(f,i):n.fancybox.animate(h.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,i,f):f(),0))))},cleanUp:function(t){var e,o=this;o.current.$slide.trigger("onReset"),o.$refs.container.empty().remove(),o.trigger("afterClose",t),o.$lastFocus&&o.current.opts.backFocus&&o.$lastFocus.focus(),o.current=null,(e=n.fancybox.getInstance())?e.activate():(r.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft),n("html").removeClass("fancybox-enabled"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,r=e&&e.opts?e:a.current;return r?i.unshift(r):r=a,i.unshift(a),n.isFunction(r.opts[t])&&(o=r.opts[t].apply(r,i)),!1===o?o:void("afterClose"===t?s.trigger(t+".fb",i):a.$refs.container.trigger(t+".fb",i))},updateControls:function(t){var e=this,o=e.current,i=o.index,a=o.opts,r=a.caption,s=e.$refs.caption;o.$slide.trigger("refresh"),e.$caption=r&&r.length?s.html(r):null,e.isHiddenControls||e.showControls(),n("[data-fancybox-count]").html(e.group.length),n("[data-fancybox-index]").html(i+1),n("[data-fancybox-prev]").prop("disabled",!a.loop&&i<=0),n("[data-fancybox-next]").prop("disabled",!a.loop&&i>=e.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.1.25",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof h&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new h(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),s.off("click.fb-start")},isMobile:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)})(),getTranslate:function(t){var e;if(!t||!t.length)return!1;if((e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?e=(e=(e=e.split("(")[1]).split(")")[0]).split(","):e=[],e.length)e=(e=e.length>10?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat);else{e=[0,0,1,1];var n=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style"));n&&(e[0]=parseFloat(n[2]),e[1]=parseFloat(n[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==o&&(i.opacity=e.opacity),e.width!==o&&(i.width=e.width),e.height!==o&&(i.height=e.height),t.css(i)},animate:function(t,e,i,a,r){var s=d||"transitionend";n.isFunction(i)&&(a=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),t.on(s,(function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(t.off(s),n.isPlainObject(e)?e.scaleX!==o&&e.scaleY!==o&&(t.css("transition-duration","0ms"),e.width=Math.round(t.width()*e.scaleX),e.height=Math.round(t.height()*e.scaleY),e.scaleX=1,e.scaleY=1,n.fancybox.setTranslate(t,e)):!0!==r&&t.removeClass(e),n.isFunction(a)&&a(i))})),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?n.fancybox.setTranslate(t,e):t.addClass(e),t.data("timer",setTimeout((function(){t.trigger("transitionend")}),i+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(d)}},n.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},s.on("click.fb-start","[data-fancybox]",i)}})(window,document,window.jQuery||jQuery),(function(t){"use strict";var e=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,(function(t,n){e=e.replace("$"+t,n||"")})),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("onInit.fb",(function(o,i){t.each(i.group,(function(o,i){var a,r,s,l,c,d,u,h=i.src||"",f=!1;i.type||(a=t.extend(!0,{},n,i.opts.media),t.each(a,(function(n,o){if(s=h.match(o.matcher),d={},u=n,s){if(f=o.type,o.paramPlace&&s[o.paramPlace]){"?"==(c=s[o.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var a=0;a<c.length;++a){var p=c[a].split("=",2);2==p.length&&(d[p[0]]=decodeURIComponent(p[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,i.opts[n],d),h="function"===t.type(o.url)?o.url.call(this,s,l,i):e(o.url,s,l),r="function"===t.type(o.thumb)?o.thumb.call(this,s,l,i):e(o.thumb,s),"vimeo"===u&&(h=h.replace("&%23","#")),!1}})),f?(i.src=h,i.type=f,i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=r),"iframe"===f&&(t.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),i.contentProvider=u,i.opts.slideClass+=" fancybox-slide--"+("gmap_place"==u||"gmap_search"==u?"map":"video"))):i.type="image")}))}))})(window.jQuery),(function(t,e,n){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},a=function(e){var n=[];for(var o in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},r=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},s=function(t){if(t.is("a,button,input,select,textarea")||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},l=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},c=function(t){for(var e=!1;!(e=l(t.get(0)))&&((t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body")););return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){this.$container.off(".fb.touch")},d.prototype.ontouchstart=function(o){var i=this,l=n(o.target),d=i.instance,u=d.current,h=u.$content,f="touchstart"==o.type;if(f&&i.$container.off("mousedown.fb.touch"),!u||i.instance.isAnimating||i.instance.isClosing)return o.stopPropagation(),void o.preventDefault();if((!o.originalEvent||2!=o.originalEvent.button)&&l.length&&!s(l)&&!s(l.parent())&&!(o.originalEvent.clientX>l[0].clientWidth+l.offset().left)&&(i.startPoints=a(o),i.startPoints&&!(i.startPoints.length>1&&d.isSliding))){if(i.$target=l,i.$content=h,i.canTap=!0,n(e).off(".fb.touch"),n(e).on(f?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")),n(e).on(f?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),!d.current.opts.touch&&!d.canPan()||!l.is(i.$stage)&&!i.$stage.find(l).length)return void(l.is("img")&&o.preventDefault());o.stopPropagation(),n.fancybox.isMobile&&(c(i.$target)||c(i.$target.parent()))||o.preventDefault(),i.canvasWidth=Math.round(u.$slide[0].clientWidth),i.canvasHeight=Math.round(u.$slide[0].clientHeight),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.sliderStartPos=i.sliderLastPos||{top:0,left:0},i.contentStartPos=n.fancybox.getTranslate(i.$content),i.contentLastPos=null,1!==i.startPoints.length||i.isZooming||(i.canTap=!d.isSliding,"image"===u.type&&(i.contentStartPos.width>i.canvasWidth+1||i.contentStartPos.height>i.canvasHeight+1)?(n.fancybox.stop(i.$content),i.$content.css("transition-duration","0ms"),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-controls--isGrabbing")),2!==i.startPoints.length||d.isAnimating||u.hasError||"image"!==u.type||!u.isLoaded&&!u.$ghost||(i.isZooming=!0,i.isSwiping=!1,i.isPanning=!1,n.fancybox.stop(i.$content),i.$content.css("transition-duration","0ms"),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=r(i.startPoints[0],i.startPoints[1]))}},d.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=a(t),n.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);if((e.instance.current.opts.touch||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=r(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=r(e.newPoints[0],e.startPoints[0],"y"),e.distance=r(e.newPoints[0],e.startPoints[0]),e.distance>0)){if(!e.$target.is(e.$stage)&&!e.$stage.find(e.$target).length)return;t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()}},d.prototype.onSwipe=function(){var e,a=this,r=a.isSwiping,s=a.sliderStartPos.left||0;!0===r?Math.abs(a.distance)>10&&(a.canTap=!1,a.instance.group.length<2&&a.instance.opts.touch.vertical?a.isSwiping="y":a.instance.isSliding||!1===a.instance.opts.touch.vertical||"auto"===a.instance.opts.touch.vertical&&n(t).width()>800?a.isSwiping="x":(e=Math.abs(180*Math.atan2(a.distanceY,a.distanceX)/Math.PI),a.isSwiping=e>45&&e<135?"y":"x"),a.instance.isSliding=a.isSwiping,a.startPoints=a.newPoints,n.each(a.instance.slides,(function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===a.instance.current.pos&&(a.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left)})),a.instance.SlideShow&&a.instance.SlideShow.isActive&&a.instance.SlideShow.stop()):("x"==r&&(a.distanceX>0&&(a.instance.group.length<2||0===a.instance.current.index&&!a.instance.current.opts.loop)?s+=Math.pow(a.distanceX,.8):a.distanceX<0&&(a.instance.group.length<2||a.instance.current.index===a.instance.group.length-1&&!a.instance.current.opts.loop)?s-=Math.pow(-a.distanceX,.8):s+=a.distanceX),a.sliderLastPos={top:"x"==r?0:a.sliderStartPos.top+a.distanceY,left:s},a.requestId&&(i(a.requestId),a.requestId=null),a.requestId=o((function(){a.sliderLastPos&&(n.each(a.instance.slides,(function(t,e){var o=e.pos-a.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:a.sliderLastPos.top,left:a.sliderLastPos.left+o*a.canvasWidth+o*e.opts.gutter})})),a.$container.addClass("fancybox-is-sliding"))})))},d.prototype.onPan=function(){var t,e,a,r=this;r.canTap=!1,t=r.contentStartPos.width>r.canvasWidth?r.contentStartPos.left+r.distanceX:r.contentStartPos.left,e=r.contentStartPos.top+r.distanceY,(a=r.limitMovement(t,e,r.contentStartPos.width,r.contentStartPos.height)).scaleX=r.contentStartPos.scaleX,a.scaleY=r.contentStartPos.scaleY,r.contentLastPos=a,r.requestId&&(i(r.requestId),r.requestId=null),r.requestId=o((function(){n.fancybox.setTranslate(r.$content,r.contentLastPos)}))},d.prototype.limitMovement=function(t,e,n,o){var i,a,r,s,l=this,c=l.canvasWidth,d=l.canvasHeight,u=l.contentStartPos.left,h=l.contentStartPos.top,f=l.distanceX,p=l.distanceY;return i=Math.max(0,.5*c-.5*n),a=Math.max(0,.5*d-.5*o),r=Math.min(c-n,.5*c-.5*n),s=Math.min(d-o,.5*d-.5*o),n>c&&(f>0&&t>i&&(t=i-1+Math.pow(-i+u+f,.8)||0),f<0&&t<r&&(t=r+1-Math.pow(r-u-f,.8)||0)),o>d&&(p>0&&e>a&&(e=a-1+Math.pow(-a+h+p,.8)||0),p<0&&e<s&&(e=s+1-Math.pow(s-h-p,.8)||0)),{top:e,left:t}},d.prototype.limitPosition=function(t,e,n,o){var i=this.canvasWidth,a=this.canvasHeight;return n>i?t=(t=t>0?0:t)<i-n?i-n:t:t=Math.max(0,i/2-n/2),o>a?e=(e=e>0?0:e)<a-o?a-o:e:e=Math.max(0,a/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos.width,s=e.contentStartPos.height,l=e.contentStartPos.left,c=e.contentStartPos.top,d=r(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,u=Math.floor(a*d),h=Math.floor(s*d),f=(a-u)*e.percentageOfImageAtPinchPointX,p=(s-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),g=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),v=m-e.centerPointStartX,b={top:c+(p+(g-e.centerPointStartY)),left:l+(f+v),scaleX:e.contentStartPos.scaleX*d,scaleY:e.contentStartPos.scaleY*d};e.canTap=!1,e.newWidth=u,e.newHeight=h,e.contentLastPos=b,e.requestId&&(i(e.requestId),e.requestId=null),e.requestId=o((function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)}))},d.prototype.ontouchend=function(t){var o=this,r=Math.max((new Date).getTime()-o.startTime,1),s=o.isSwiping,l=o.isPanning,c=o.isZooming;return o.endPoints=a(t),o.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.canTap?o.onTap(t):(o.speed=366,o.velocityX=o.distanceX/r*.5,o.velocityY=o.distanceY/r*.5,o.speedX=Math.max(.5*o.speed,Math.min(1.5*o.speed,1/Math.abs(o.velocityX)*o.speed)),void(l?o.endPanning():c?o.endZooming():o.endSwiping(s)))},d.prototype.endSwiping=function(t){var e=this,o=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&Math.abs(e.distanceY)>50?(n.fancybox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),o=e.instance.close(!0,300)):"x"==t&&e.distanceX>50&&e.instance.group.length>1?o=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&e.instance.group.length>1&&(o=e.instance.next(e.speedX)),!1!==o||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.instance.current.opts.touch.momentum?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),(o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,330))},d.prototype.endZooming=function(){var t,e,o,i,a=this,r=a.instance.current,s=a.newWidth,l=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,i={top:e=a.contentLastPos.top,left:t,width:s,height:l,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),s<a.canvasWidth&&l<a.canvasHeight?a.instance.scaleToFit(150):s>r.width||l>r.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,s,l),n.fancybox.setTranslate(a.content,n.fancybox.getTranslate(a.$content)),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(t){var e,o=this,i=n(t.target),r=o.instance,s=r.current,l=t&&a(t)||o.startPoints,c=l[0]?l[0].x-o.$stage.offset().left:0,d=l[0]?l[0].y-o.$stage.offset().top:0,u=function(e){var i=s.opts[e];if(n.isFunction(i)&&(i=i.apply(r,[s,t])),i)switch(i){case"close":r.close(o.startEvent);break;case"toggleControls":r.toggleControls(!0);break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(o.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(c,d):r.group.length<2&&r.close(o.startEvent))}};if(!(t.originalEvent&&2==t.originalEvent.button||r.isSliding||c>i[0].clientWidth+i.offset().left)){if(i.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(i.is(".fancybox-slide"))e="Slide";else{if(!r.current.$content||!r.current.$content.has(t.target).length)return;e="Content"}if(o.tapped){if(clearTimeout(o.tapped),o.tapped=null,Math.abs(c-o.tapX)>50||Math.abs(d-o.tapY)>50||r.isSliding)return this;u("dblclick"+e)}else o.tapX=c,o.tapY=d,s.opts["dblclick"+e]&&s.opts["dblclick"+e]!==s.opts["click"+e]?o.tapped=setTimeout((function(){o.tapped=null,u("click"+e)}),300):u("click"+e);return this}},n(e).on("onActivate.fb",(function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))})),n(e).on("beforeClose.fb",(function(t,e){e&&e.Guestures&&e.Guestures.destroy()}))})(window,document,window.jQuery),(function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",(function(){t.toggle()})),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout((function(){t.instance.next()}),t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,r){var s=o&&o.SlideShow;!s||!i.opts.slideShow||80!==r&&32!==r||e(t.activeElement).is("button,a,input")||(a.preventDefault(),s.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",(function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())}))})(document,window.jQuery),(function(t,e){"use strict";var n=(function(){var e,n,o,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a={};for(n=0;n<i.length;n++)if((e=i[n])&&e[1]in t){for(o=0;o<e.length;o++)a[i[0][o]]=e[o];return a}return!1})();if(n){var o={request:function(e){(e=e||t.documentElement)[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e(t).on({"onInit.fb":function(t,e){var n,i=e.$refs.toolbar.find("[data-fancybox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((n=e.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(t){t.stopPropagation(),t.preventDefault(),o.toggle(n[0])})),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(n[0]),e.FullScreen=o):i.hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&o.exit()}}),e(t).on(n.fullscreenchange,(function(){var t=e.fancybox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0)),t.trigger("onFullscreenChange",o.isFullscreen())}))}else e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1)})(document,window.jQuery),(function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=t.instance.group[0],n=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),t.instance.group.length>1&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==e.type||e.opts.thumb||e.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(t.$button.on("click",(function(){t.toggle()})),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var t,n,o=this.instance;this.$grid=e('<div class="fancybox-thumbs"></div>').appendTo(o.$refs.container),t="<ul>",e.each(o.group,(function(e,o){(n=o.opts.thumb||(o.opts.$thumb?o.opts.$thumb.attr("src"):null))||"image"!==o.type||(n=o.src),n&&n.length&&(t+='<li data-index="'+e+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /></li>')})),t+="</ul>",this.$list=e(t).appendTo(this.$grid).on("click","li",(function(){o.jumpTo(e(this).data("index"))})),this.$list.find("img").hide().one("load",(function(){var t,n,o,i,a=e(this).parent().removeClass("fancybox-thumbs-loading"),r=a.outerWidth(),s=a.outerHeight();t=this.naturalWidth||this.width,i=(n=this.naturalHeight||this.height)/s,(o=t/r)>=1&&i>=1&&(o>i?(t/=i,n=s):(t=r,n/=o)),e(this).css({width:Math.floor(t),height:Math.floor(n),"margin-top":Math.min(0,Math.floor(.3*s-.3*n)),"margin-left":Math.min(0,Math.floor(.5*r-.5*t))}).show()})).each((function(){this.src=e(this).data("src")}))},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;if(i&&i.isActive){if(n.modal)return i.$button.hide(),void i.hide();o&&!0===e.opts.thumbs.autoStart&&i.show(),i.isVisible&&i.focus()}},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==e.opts.thumbs.hideOnClose&&n.close()}})})(document,window.jQuery),(function(t,e,n){"use strict";function o(){var t=e.location.hash.substr(1),n=t.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return o<1&&(o=1),{hash:t,index:o,gallery:n.join("-")}}function i(t){var e;""!==t.gallery&&((e=n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1)).length||(e=n("#"+n.escapeSelector(t.gallery))),e.length&&(r=!1,e.trigger("click")))}function a(t){var e;return!!t&&((e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox"):""))}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}))});var r=!0,s=null,l=null;n((function(){setTimeout((function(){!1!==n.fancybox.defaults.hash&&(n(t).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i){var c;i&&!1!==i.opts.hash&&((c=a(o))&&""!==c&&(e.location.hash.indexOf(c)<0&&(o.opts.origHash=e.location.hash),s=c+(o.group.length>1?"-"+(i.index+1):""),"replaceState"in e.history?(l&&clearTimeout(l),l=setTimeout((function(){e.history[r?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+s),l=null,r=!1}),300)):e.location.hash=s))},"beforeClose.fb":function(o,i,r){var c,d;l&&clearTimeout(l),!1!==r.opts.hash&&(c=a(i),d=i&&i.opts.origHash?i.opts.origHash:"",c&&""!==c&&("replaceState"in history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+d):(e.location.hash=d,n(e).scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))),s=null)}}),n(e).on("hashchange.fb",(function(){var t=o();n.fancybox.getInstance()?!s||s===t.gallery+"-"+t.index||1===t.index&&s==t.gallery||(s=null,n.fancybox.close()):""!==t.gallery&&i(t)})),i(o()))}),50)}))})(document,window,window.jQuery),(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)})((function(t){var e,n=navigator.userAgent,o=/iphone/i.test(n),i=/chrome/i.test(n),a=/android/i.test(n);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each((function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())}))):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(n,r){var s,l,c,d,u,h,f;if(!n&&this.length>0){var p=t(this[0]).data(t.mask.dataName);return p?p():void 0}return r=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},r),s=t.mask.definitions,l=[],c=h=n.length,d=null,t.each(n.split(""),(function(t,e){"?"==e?(h--,c=t):s[e]?(l.push(new RegExp(s[e])),null===d&&(d=l.length-1),c>t&&(u=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function p(){if(r.completed){for(var t=d;u>=t;t++)if(l[t]&&C[t]===m(t))return;r.completed.call(S)}}function m(t){return r.placeholder.charAt(t<r.placeholder.length?t:0)}function g(t){for(;++t<h&&!l[t];);return t}function v(t,e){var n,o;if(!(0>t)){for(n=t,o=g(e);h>n;n++)if(l[n]){if(!(h>o&&l[n].test(C[o])))break;C[n]=C[o],C[o]=m(o),o=g(o)}x(),S.caret(Math.max(d,t))}}function b(){w(),S.val()!=T&&S.change()}function y(t,e){var n;for(n=t;e>n&&h>n;n++)l[n]&&(C[n]=m(n))}function x(){S.val(C.join(""))}function w(t){var e,n,o,i=S.val(),a=-1;for(e=0,o=0;h>e;e++)if(l[e]){for(C[e]=m(e);o++<i.length;)if(n=i.charAt(o-1),l[e].test(n)){C[e]=n,a=e;break}if(o>i.length){y(e+1,h);break}}else C[e]===i.charAt(o)&&o++,c>e&&(a=e);return t?x():c>a+1?r.autoclear||C.join("")===_?(S.val()&&S.val(""),y(0,h)):x():(x(),S.val(S.val().substring(0,a+1))),c?e:d}var S=t(this),C=t.map(n.split(""),(function(t,e){return"?"!=t?s[t]?m(e):t:void 0})),_=C.join(""),T=S.val();S.data(t.mask.dataName,(function(){return t.map(C,(function(t,e){return l[e]&&t!=m(e)?t:null})).join("")})),S.one("unmask",(function(){S.off(".mask").removeData(t.mask.dataName)})).on("focus.mask",(function(){var t;S.prop("readonly")||(clearTimeout(e),T=S.val(),t=w(),e=setTimeout((function(){S.get(0)===document.activeElement&&(x(),t==n.replace("?","").length?S.caret(0,t):S.caret(t))}),10))})).on("blur.mask",b).on("keydown.mask",(function(t){if(!S.prop("readonly")){var e,n,i,a=t.which||t.keyCode;f=S.val(),8===a||46===a||o&&127===a?(n=(e=S.caret()).begin,(i=e.end)-n==0&&(n=46!==a?(function(t){for(;--t>=0&&!l[t];);return t})(n):i=g(n-1),i=46===a?g(i):i),y(n,i),v(n,i-1),t.preventDefault()):13===a?b.call(this,t):27===a&&(S.val(T),S.caret(0,w()),t.preventDefault())}})).on("keypress.mask",(function(e){if(!S.prop("readonly")){var n,o,i,r=e.which||e.keyCode,s=S.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||32>r)&&r&&13!==r){if(s.end-s.begin!=0&&(y(s.begin,s.end),v(s.begin,s.end-1)),n=g(s.begin-1),h>n&&(o=String.fromCharCode(r),l[n].test(o))){if(function(t){var e,n,o,i;for(e=t,n=m(t);h>e;e++)if(l[e]){if(o=g(e),i=C[e],C[e]=n,!(h>o&&l[o].test(i)))break;n=i}}(n),C[n]=o,x(),i=g(n),a){setTimeout((function(){t.proxy(t.fn.caret,S,i)()}),0)}else S.caret(i);s.begin<=u&&p()}e.preventDefault()}}})).on("input.mask paste.mask",(function(){S.prop("readonly")||setTimeout((function(){var t=w(!0);S.caret(t),p()}),0)})),i&&a&&S.off("input.mask").on("input.mask",(function(){var t=S.val(),e=S.caret();if(f&&f.length&&f.length>t.length){for(w(!0);e.begin>0&&!l[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<d&&!l[e.begin];)e.begin++;S.caret(e.begin,e.begin)}else{for(w(!0);e.begin<h&&!l[e.begin];)e.begin++;S.caret(e.begin,e.begin)}p()})),w()}))}})})),(function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)})(window,(function(t,e){"use strict";function n(n,a,s){function l(t,e,o){var i,a="$()."+n+'("'+e+'")';return t.each((function(t,l){var c=s.data(l,n);if(c){var d=c[e];if(d&&"_"!=e.charAt(0)){var u=d.apply(c,o);i=void 0===i?u:i}else r(a+" is not a valid method")}else r(n+" not initialized. Cannot call methods, i.e. "+a)})),void 0!==i?i:t}function c(t,e){t.each((function(t,o){var i=s.data(o,n);i?(i.option(e),i._init()):(i=new a(o,e),s.data(o,n,i))}))}(s=s||e||t.jQuery)&&(a.prototype.option||(a.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[n]=function(t){if("string"==typeof t){var e=i.call(arguments,1);return l(this,t,e)}return c(this,t),this},o(s))}function o(t){!t||t&&t.bridget||(t.bridget=n)}var i=Array.prototype.slice,a=t.console,r=void 0===a?function(){}:function(t){a.error(t)};return o(e||t.jQuery),n})),(function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()})("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return-1==o.indexOf(e)&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return-1!=o&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var o=this._onceEvents&&this._onceEvents[t],i=0;i<n.length;i++){var a=n[i];o&&o[a]&&(this.off(t,a),delete o[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})),(function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],(function(){return e()})):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()})(window,(function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function n(){if(!l){l=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var a=document.body||document.documentElement;a.appendChild(n);var r=e(n);o.isBoxSizeOuter=i=200==t(r.width),a.removeChild(n)}}function o(o){if(n(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var a=e(o);if("none"==a.display)return (function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;s>e;e++){t[r[e]]=0}return t})();var l={};l.width=o.offsetWidth,l.height=o.offsetHeight;for(var c=l.isBorderBox="border-box"==a.boxSizing,d=0;s>d;d++){var u=r[d],h=a[u],f=parseFloat(h);l[u]=isNaN(f)?0:f}var p=l.paddingLeft+l.paddingRight,m=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,v=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,x=c&&i,w=t(a.width);!1!==w&&(l.width=w+(x?0:p+b));var S=t(a.height);return!1!==S&&(l.height=S+(x?0:m+y)),l.innerWidth=l.width-(p+b),l.innerHeight=l.height-(m+y),l.outerWidth=l.width+g,l.outerHeight=l.height+v,l}}var i,a="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=r.length,l=!1;return o})),(function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()})(window,(function(){"use strict";var t=(function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var o=e[n]+"MatchesSelector";if(t[o])return o}})();return function(e,n){return e[t](n)}})),(function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)})(window,(function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},removeFrom:function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},getParent:function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,o){t=n.makeArray(t);var i=[];return t.forEach((function(t){if(t instanceof HTMLElement){if(!o)return void i.push(t);e(t,o)&&i.push(t);for(var n=t.querySelectorAll(o),a=0;a<n.length;a++)i.push(n[a])}})),i},debounceMethod:function(t,e,n){var o=t.prototype[e],i=e+"Timeout";t.prototype[e]=function(){var t=this[i];t&&clearTimeout(t);var e=arguments,a=this;this[i]=setTimeout((function(){o.apply(a,e),delete a[i]}),n||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()}},o=t.console;return n.htmlInit=function(e,i){n.docReady((function(){var a=n.toDashed(i),r="data-"+a,s=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+a),c=n.makeArray(s).concat(n.makeArray(l)),d=r+"-options",u=t.jQuery;c.forEach((function(t){var n,a=t.getAttribute(r)||t.getAttribute(d);try{n=a&&JSON.parse(a)}catch(e){return void(o&&o.error("Error parsing "+r+" on "+t.className+": "+e))}var s=new e(t,n);u&&u.data(t,i,s)}))}))},n})),(function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))})(window,(function(t,e){"use strict";function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=document.documentElement.style,i="string"==typeof o.transition?"transition":"WebkitTransition",a="string"==typeof o.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],s={transform:a,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"},l=n.prototype=Object.create(t.prototype);l.constructor=n,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var n in t){e[s[n]||n]=t[n]}},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=t[e?"left":"right"],i=t[n?"top":"bottom"],a=this.layout.size,r=-1!=o.indexOf("%")?parseFloat(o)/100*a.width:parseInt(o,10),s=-1!=i.indexOf("%")?parseFloat(i)/100*a.height:parseInt(i,10);r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},l.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),i=n?"paddingLeft":"paddingRight",a=n?"left":"right",r=n?"right":"left",s=this.position.x+t[i];e[a]=this.getXValue(s),e[r]="";var l=o?"paddingTop":"paddingBottom",c=o?"top":"bottom",d=o?"bottom":"top",u=this.position.y+t[l];e[c]=this.getYValue(u),e[d]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var n=this.position.x,o=this.position.y,i=parseInt(t,10),a=parseInt(e,10),r=i===this.position.x&&a===this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var s=t-n,l=e-o,c={};c.transform=this.getTranslate(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+(function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})(a);l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=d[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],(function(t){for(var e in t)return!1;return null,!0})(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd)e.onEnd[n].call(this),delete e.onEnd[n];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){return i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),void this.hide()):void this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n})),(function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(n,o,i,a){return e(t,n,o,i,a)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)})(window,(function(t,e,n,o,i){"use strict";function a(t,e){var n=o.getQueryElement(t);if(n){this.element=n,l&&(this.$element=l(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var i=++d;this.element.outlayerGUID=i,u[i]=this,this._create(),this._getOption("initLayout")&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var s=t.console,l=t.jQuery,c=function(){},d=0,u={};a.namespace="outlayer",a.Item=i,a.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=a.prototype;o.extend(h,e.prototype),h.option=function(t){o.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},a.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,o=[],i=0;i<e.length;i++){var a=new n(e[i],this);o.push(a)}return o},h._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map((function(t){return t.element}))},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=n(this.element)},h._getMeasurement=function(t,e){var o,i=this.options[t];i?("string"==typeof i?o=this.element.querySelector(i):i instanceof HTMLElement&&(o=i),this[t]=o?n(o)[e]:i):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},h._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach((function(t){var o=this._getItemLayoutPosition(t);o.item=t,o.isInstant=e||t.isLayoutInstant,n.push(o)}),this),this._processLayoutQueue(n)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},h.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=(function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],o=e&&e[2];return n.length?(n=parseFloat(n))*(f[o]||1):0})(t),this.stagger)},h._positionItem=function(t,e,n,o,i){o?t.goTo(e,n):(t.stagger(i*this.stagger),t.moveTo(e,n))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},h._getContainerSize=c,h._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},h._emitCompleteOnItems=function(t,e){function n(){i.dispatchEvent(t+"Complete",null,[e])}function o(){++r==a&&n()}var i=this,a=e.length;if(e&&a){var r=0;e.forEach((function(e){e.once(t,o)}))}else n()},h.dispatchEvent=function(t,e,n){var o=e?[e].concat(n):n;if(this.emitEvent(t,o),l)if(this.$element=this.$element||l(this.element),e){var i=l.Event(e);i.type=t,this.$element.trigger(i,n)}else this.$element.trigger(t,n)},h.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},h.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},h.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){o.removeFrom(this.stamps,t),this.unignore(t)}),this)},h._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)):void 0},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=c,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,i=n(t);return{left:e.left-o.left-i.marginLeft,top:e.top-o.top-i.marginTop,right:o.right-e.right-i.marginRight,bottom:o.bottom-e.bottom-i.marginBottom}},h.handleEvent=o.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},o.debounceMethod(a,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},h.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},h.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},h.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.reveal()}))}},h.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.hide()}))}},h.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},h.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},h.getItems=function(t){t=o.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getItem(t);n&&e.push(n)}),this),e},h.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),o.removeFrom(this.items,t)}),this)},h.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},a.data=function(t){var e=(t=o.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},a.create=function(t,e){var n=r(a);return n.defaults=o.extend({},a.defaults),o.extend(n.defaults,e),n.compatOptions=o.extend({},a.compatOptions),n.namespace=t,n.data=a.data,n.Item=r(i),o.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n};var f={ms:1,s:1e3};return a.Item=i,a})),(function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)})(window,(function(t,e){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var o=n.prototype;return o._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},o.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var o=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,a=i/o,r=o-i%o;a=Math[r&&1>r?"round":"floor"](a),this.cols=Math.max(a,1)},o.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},o._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),i={x:this.columnWidth*o.col,y:o.y},a=o.y+t.size.outerHeight,r=n+o.col,s=o.col;r>s;s++)this.colYs[s]=a;return i},o._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},o._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,o=0;n>o;o++)e[o]=this._getColGroupY(o,t);return e},o._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},o._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var o=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=o?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},o._manageStamp=function(t){var n=e(t),o=this._getElementOffset(t),i=this._getOption("originLeft")?o.left:o.right,a=i+n.outerWidth,r=Math.floor(i/this.columnWidth);r=Math.max(0,r);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?o.top:o.bottom)+n.outerHeight,c=r;s>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},o._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}));